{"version":3,"sources":["webpack:///./src/css/app.scss","webpack:///./src/types/index.ts","webpack:///./src/App.tsx","webpack:///./src/css/app.scss?92b9","webpack:///./src/Main.tsx","webpack:///./src/pages/Slideshow/index.ts","webpack:///./src/pages/Slideshow/SlideshowPage.tsx","webpack:///./src/components/PageContainer.tsx","webpack:///./src/components/Settings.tsx","webpack:///./src/components/Slideshow/index.ts","webpack:///./src/components/Slideshow/Slideshow.tsx","webpack:///./src/types/messages.ts","webpack:///./src/types/settings.ts","webpack:///./src/components/Slideshow/components/Slide.tsx"],"names":["___CSS_LOADER_EXPORT___","push","module","i","render","document","getElementById","options","locals","settings","setSettings","useState","createSettings","className","CSS","supports","href","target","rel","children","minInterval","maxInterval","id","htmlFor","title","type","max","min","defaultValue","interval","step","onChange","e","num","valueAsNumber","Math","apiUrl","value","readOnly","images","setImages","imageIndex","setImageIndex","nextRotate","setNextRotate","Date","now","imageInterval","setImageInterval","setApiUrl","client","setClient","useEffect","getTimestamp","imageTimer","setInterval","console","log","length","clearInterval","w3cwebsocket","onopen","onerror","err","error","onmessage","message","payload","JSON","parse","String","data","MessageType","Full","receiveImages","NewImage","image","DeleteImage","cloned","splice","indexOf","removeImage","onclose","slides","key","index","imageName","active","src","alt","decoding"],"mappings":"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","file":"client_e953584ea2307dc0a0e0.bundle.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@media all and (display-mode: fullscreen){body{color:red}.no-fullscreen{display:none}*{height:100%}html,body{overflow-y:hidden;cursor:none;padding:0;margin:0;text-align:center}.slide,.slide img{position:relative;top:50%;transform:translateY(-50%)}.slide img{max-width:100%;max-height:100%;height:auto}.slide label{display:none}.inactive{display:none}}@media not all and (display-mode: fullscreen){body{font-weight:normal}.fullscreen-only{display:none}#slideshow{border:2px solid red;padding:.25em}.slide{display:inline-block;position:relative}.slide label{position:absolute;left:0;top:0;padding:.25em;background-color:#00bfff;opacity:.65}.slide{max-width:30%;max-height:200px;margin:.2em;border:3px solid transparent}.slide img{max-width:100%;max-height:200px}.active{border:3px solid #00bfff}.inactive label{background-color:gray;opacity:.75}}#navigator-toolbox[fullscreenShouldAnimate]{transition:none !important}body{font-weight:bold;background-color:#000;color:#fff}code{font-weight:normal}#settings{border:2px solid #000;padding:.5em;margin-bottom:1em}#settings h1{margin-top:0;text-transform:uppercase;color:#d3d3d3}.highlight{background-color:#ff0;color:#000;padding:.1em;font-weight:normal}.slide img{image-orientation:from-image}.input{margin:.25em 0}.input input{margin-left:.5em}input:read-only{background-color:#d3d3d3}p,h1,h2{text-align:center;margin-left:auto;margin-right:auto}p{max-width:65ch;font-weight:normal}.disclaimer{background-color:darkred;padding:.1em;margin:1em 0}.hide{display:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/app.scss\",\"webpack://./src/css/fullscreen.scss\",\"webpack://./src/css/no-fullscreen.scss\"],\"names\":[],\"mappings\":\"AAAA,0CAAA,KCCE,SAAA,CAGF,eACE,YAAA,CAGF,EACE,WAAA,CAGF,UAEE,iBAAA,CACA,WAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CAGF,kBAEE,iBAAA,CACA,OAAA,CACA,0BAAA,CAGF,WACE,cAAA,CACA,eAAA,CACA,WAAA,CAGF,aACE,YAAA,CAGF,UACE,YAAA,CAAA,CDnCF,8CEJA,KACE,kBAAA,CAGF,iBACE,YAAA,CAGF,WACE,oBAAA,CACA,aAAA,CAGF,OACE,oBAAA,CACA,iBAAA,CAMF,aACE,iBAAA,CACA,MAAA,CACA,KAAA,CACA,aAAA,CACA,wBARY,CASZ,WAAA,CAGF,OACE,aAAA,CACA,gBAAA,CACA,WAAA,CACA,4BAAA,CAGF,WACE,cAAA,CACA,gBAAA,CAGF,QACE,wBAAA,CAGF,gBACE,qBA5Bc,CA6Bd,WAAA,CAAA,CFxCF,4CACE,0BAAA,CAGF,KACE,gBAAA,CACA,qBAAA,CACA,UAAA,CAGF,KACE,kBAAA,CAGF,UACE,qBAAA,CACA,YAAA,CACA,iBAAA,CAGF,aACE,YAAA,CACA,wBAAA,CACA,aAAA,CAGF,WACE,qBAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CAGF,WACE,4BAAA,CAGF,OACE,cAAA,CAGF,aACE,gBAAA,CAGF,gBACE,wBAAA,CAGF,QAGE,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,EACE,cAAA,CACA,kBAAA,CAGF,YACE,wBAAA,CACA,YAAA,CACA,YAAA,CAGF,MACE,YAAA\",\"sourcesContent\":[\"@media all and (display-mode: fullscreen) {\\n  @import \\\"./fullscreen.scss\\\";\\n}\\n\\n@media not all and (display-mode: fullscreen) {\\n  @import \\\"./no-fullscreen.scss\\\";\\n}\\n\\n#navigator-toolbox[fullscreenShouldAnimate] {\\n  transition: none !important;\\n}\\n\\nbody {\\n  font-weight: bold;\\n  background-color: black;\\n  color: white;\\n}\\n\\ncode {\\n  font-weight: normal;\\n}\\n\\n#settings {\\n  border: 2px solid black;\\n  padding: 0.5em;\\n  margin-bottom: 1em;\\n}\\n\\n#settings h1 {\\n  margin-top: 0;\\n  text-transform: uppercase;\\n  color: lightgray;\\n}\\n\\n.highlight {\\n  background-color: yellow;\\n  color: black;\\n  padding: 0.1em;\\n  font-weight: normal;\\n}\\n\\n.slide img {\\n  image-orientation: from-image;\\n}\\n\\n.input {\\n  margin: 0.25em 0;\\n}\\n\\n.input input {\\n  margin-left: 0.5em;\\n}\\n\\ninput:read-only {\\n  background-color: lightgray;\\n}\\n\\np,\\nh1,\\nh2 {\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\np {\\n  max-width: 65ch;\\n  font-weight: normal;\\n}\\n\\n.disclaimer {\\n  background-color: darkred;\\n  padding: 0.1em;\\n  margin: 1em 0;\\n}\\n\\n.hide {\\n  display: none;\\n}\\n\",\"body {\\n  color: red;\\n}\\n\\n.no-fullscreen {\\n  display: none;\\n}\\n\\n* {\\n  height: 100%;\\n}\\n\\nhtml,\\nbody {\\n  overflow-y: hidden;\\n  cursor: none;\\n  padding: 0;\\n  margin: 0;\\n  text-align: center;\\n}\\n\\n.slide,\\n.slide img {\\n  position: relative;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n.slide img {\\n  max-width: 100%;\\n  max-height: 100%;\\n  height: auto;\\n}\\n\\n.slide label {\\n  display: none;\\n}\\n\\n.inactive {\\n  display: none;\\n}\\n\",\"body {\\n  font-weight: normal;\\n}\\n\\n.fullscreen-only {\\n  display: none;\\n}\\n\\n#slideshow {\\n  border: 2px solid red;\\n  padding: 0.25em;\\n}\\n\\n.slide {\\n  display: inline-block;\\n  position: relative;\\n}\\n\\n$activeColor: deepskyblue;\\n$inactiveColor: gray;\\n\\n.slide label {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  padding: 0.25em;\\n  background-color: $activeColor;\\n  opacity: 0.65;\\n}\\n\\n.slide {\\n  max-width: 30%;\\n  max-height: 200px;\\n  margin: 0.2em;\\n  border: 3px solid transparent;\\n}\\n\\n.slide img {\\n  max-width: 100%;\\n  max-height: 200px;\\n}\\n\\n.active {\\n  border: 3px solid $activeColor;\\n}\\n\\n.inactive label {\\n  background-color: $inactiveColor;\\n  opacity: 0.75;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export * from \"./messages\";\nexport * from \"./settings\";\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\n\nimport \"./css/app.scss\";\n\nimport Main from \"./Main\";\n\nrender(<Main />, document.getElementById(\"main\"));\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./app.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport SlideshowPage from \"./pages/Slideshow\";\n\nconst Main: React.FunctionComponent = () => <SlideshowPage />;\n\nexport default Main;\n","import SlideshowPage from \"./SlideshowPage\";\nexport default SlideshowPage;\n","import PageContainer from \"@/components/PageContainer\";\nimport Settings from \"@/components/Settings\";\nimport Slideshow from \"@/components/Slideshow\";\nimport { createSettings } from \"@/types\";\nimport React, { useState } from \"react\";\n\nconst SlideshowPage: React.FC = () => {\n  const [settings, setSettings] = useState(createSettings());\n\n  return (\n    <PageContainer>\n      <Settings settings={settings} setSettings={setSettings} />\n\n      <div\n        className={\n          \"disclaimer no-fullscreen \" +\n          (CSS.supports(\"image-orientation: from-image\") ? \"hide\" : \"\")\n        }\n      >\n        <h2>Warning: Image Orientation Issues</h2>\n\n        <p>\n          For whatever reason, digital cameras and smartphones don't store\n          pictures in the orientation in which they were taken; instead, they\n          store it in the metadata.\n        </p>\n\n        <p>\n          Your browser does not support the features necessary to display\n          pictures in their proper orientation. As such, images may appear\n          sideways.\n        </p>\n\n        <p>\n          You are free to continue, however I highly recommend you{\" \"}\n          <a\n            href=\"https://caniuse.com/?search=image-orientation\"\n            target=\"_blank\"\n            rel=\"nofollow\"\n          >\n            use a remotely modern browser\n          </a>\n          .\n        </p>\n      </div>\n\n      <Slideshow settings={settings} />\n    </PageContainer>\n  );\n};\n\nexport default SlideshowPage;\n","import * as React from \"react\";\n\nconst PageContainer: React.FC = ({ children }) => (\n  <div className=\"wrapper\">\n    <div className=\"page-container\">{children}</div>\n  </div>\n);\n\nexport default PageContainer;\n","import { ISettings } from \"@/types\";\nimport React, { SetStateAction } from \"react\";\n\nconst clamp = (num: number, min: number, max: number) =>\n  Math.max(min, Math.min(num, max));\n\nconst [minInterval, maxInterval] = [500, 1000 * 20];\n\ntype SettingsProps = {\n  settings: ISettings;\n  setSettings: React.Dispatch<SetStateAction<ISettings>>;\n};\n\nconst Settings: React.FC<SettingsProps> = ({ settings, setSettings }) => {\n  return (\n    <div id=\"settings\" className=\"no-fullscreen\">\n      <h1>Settings</h1>\n\n      <form>\n        <div className=\"input intervalInput\">\n          <label htmlFor=\"interval\">\n            Interval (\n            <abbr title=\"milliseconds (NumberOfSeconds * 1000)\">ms</abbr>):\n          </label>\n\n          <input\n            type=\"number\"\n            max={1000 * 20}\n            min={500}\n            defaultValue={settings.interval}\n            step={100}\n            onChange={(e) =>\n              setSettings({\n                ...settings,\n                interval: clamp(\n                  e.target.valueAsNumber,\n                  minInterval,\n                  maxInterval\n                ),\n              })\n            }\n          />\n        </div>\n\n        <div className=\"input apiUrlInput\">\n          <label htmlFor=\"apiUrl\">API URL:</label>\n\n          <input\n            type=\"url\"\n            title=\"See me before touching this\"\n            defaultValue={settings.apiUrl}\n            onChange={(e) =>\n              setSettings({\n                ...settings,\n                apiUrl: e.target.value,\n              })\n            }\n            readOnly\n          />\n        </div>\n      </form>\n\n      <div>\n        Tip: Press <code>F11</code> to toggle fullscreen mode\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import Slideshow from \"./Slideshow\";\n\nexport default Slideshow;\n","import { ISettings, MessageType, SocketMessage } from \"@/types\";\nimport React, { useEffect, useState } from \"react\";\nimport { w3cwebsocket } from \"websocket\";\nimport Slide from \"./components/Slide\";\n\ntype SlideshowProps = {\n  settings: ISettings;\n};\n\nconst Slideshow: React.FC<SlideshowProps> = ({ settings }) => {\n  const [images, setImages] = useState<string[]>([]);\n  const [imageIndex, setImageIndex] = useState(0);\n  const [nextRotate, setNextRotate] = useState(Date.now());\n\n  const [imageInterval, setImageInterval] = useState(settings.interval);\n  const [apiUrl, setApiUrl] = useState(settings.apiUrl);\n  const [client, setClient] = useState<w3cwebsocket | null>();\n\n  // Tick\n  useEffect(() => {\n    const getTimestamp = () => Date.now();\n    const getNextTimestamp = () => Date.now() + imageInterval;\n\n    const tick = () => {\n      if (getTimestamp() <= nextRotate) return;\n\n      console.log(getTimestamp(), nextRotate, \"tick\");\n\n      setImageIndex(imageIndex >= images.length - 1 ? 0 : imageIndex + 1);\n      setNextRotate(getNextTimestamp());\n    };\n\n    const imageTimer = setInterval(tick, 100);\n\n    return () => clearInterval(imageTimer);\n  }, [nextRotate, imageInterval]);\n\n  useEffect(() => {\n    setImageInterval(settings.interval);\n    setApiUrl(settings.apiUrl);\n  }, [settings]);\n\n  useEffect(() => {\n    setClient(new w3cwebsocket(`ws://${apiUrl}`));\n  }, [apiUrl]);\n\n  useEffect(() => {\n    if (imageIndex > images.length - 1) setImageIndex(0);\n  }, [images]);\n\n  const receiveImages = (images: string[]) => {\n    setImages(images);\n  };\n\n  const addImage = (image: string) => {\n    console.log(`[ADD] ${image}`);\n    setImages([...images, image]);\n  };\n\n  const removeImage = (image: string) => {\n    console.log(`[REMOVE] ${image}`);\n\n    const cloned = [...images];\n    cloned.splice(cloned.indexOf(image), 1);\n    setImages(cloned);\n  };\n\n  useEffect(() => {\n    if (!client) return;\n\n    client.onopen = () => {\n      console.log(`Web socket opened`);\n    };\n\n    client.onerror = (err) => {\n      console.error(`Error with web socket:`, err);\n    };\n\n    client.onmessage = (message) => {\n      try {\n        const payload = JSON.parse(String(message.data)) as SocketMessage;\n\n        switch (payload.type) {\n          case MessageType.Full:\n            receiveImages(payload.data);\n            break;\n          case MessageType.NewImage:\n            addImage(payload.data);\n            break;\n          case MessageType.DeleteImage:\n            removeImage(payload.data);\n            break;\n          default:\n            console.error(`Unsupported MessageType`, (payload as any).type);\n        }\n      } catch (e) {\n        console.error(`Error parsing json:`, e);\n      }\n    };\n\n    client.onclose = () => {\n      console.log(`Web socket closed`);\n    };\n  }, [imageInterval, apiUrl, client, images]);\n\n  let slides = [];\n\n  for (let i = 0; i < images.length; i++) {\n    slides.push(\n      <Slide\n        key={i}\n        index={i}\n        apiUrl={apiUrl}\n        imageName={images[i]}\n        active={i === imageIndex}\n      />\n    );\n  }\n\n  return (\n    <div id=\"slideshow\">\n      <div id=\"stats\" className=\"no-fullscreen\">\n        Currently rotating <span className=\"highlight\">{images.length}</span>{\" \"}\n        image{images.length !== 1 ? \"s\" : \"\"}\n      </div>\n      <div>{slides}</div>\n    </div>\n  );\n};\n\nexport default Slideshow;\n","export enum MessageType {\n  Full = \"full\",\n  NewImage = \"new-image\",\n  DeleteImage = \"delete-image\",\n}\n\nexport interface FullSocketMessage {\n  type: MessageType.Full;\n  data: string[];\n}\n\nexport interface NewImageSocketMessage {\n  type: MessageType.NewImage;\n  data: string;\n}\n\nexport interface DeleteImageSocketMessage {\n  type: MessageType.DeleteImage;\n  data: string;\n}\n\nexport type SocketMessage =\n  | FullSocketMessage\n  | NewImageSocketMessage\n  | DeleteImageSocketMessage;\n","export interface ISettings {\n  interval: number;\n  apiUrl: string;\n}\n\nexport const createSettings = () =>\n  ({\n    interval: 1000 * 5,\n    apiUrl: \"127.0.0.1:45454\", // TODO: Read from env?\n  } as ISettings);\n","import * as React from \"react\";\nimport { useEffect } from \"react\";\n\ntype Props = {\n  imageName: string;\n  index: number;\n  apiUrl: string;\n  active?: boolean;\n};\n\nconst Slide: React.FC<Props> = ({\n  imageName,\n  index,\n  apiUrl,\n  active = false,\n}) => {\n  useEffect(() => {}, [active]);\n\n  return (\n    <div className={\"slide \" + (active ? \"active\" : \"inactive\")}>\n      <label>{index + 1}</label>\n      <img\n        src={`http://${apiUrl}/img/${imageName}`}\n        alt=\"Automatically loaded image\"\n        decoding=\"async\"\n      />\n    </div>\n  );\n};\n\nexport default Slide;\n"],"sourceRoot":""}